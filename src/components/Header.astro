---
import HeaderLink from './HeaderLink.astro';
import ThemeToggle from './ThemeToggle.astro';
---

<header transition:name="header-nav">
	<nav class="pill-nav" transition:name="nav-links">
		<HeaderLink href="/">Home</HeaderLink>
		<HeaderLink href="/blog">Blog</HeaderLink>
		<HeaderLink href="/about">About</HeaderLink>
		<div class="theme-toggle-wrapper">
			<ThemeToggle />
		</div>
	</nav>
</header>
<style>
	header {
		position: fixed;
		top: 2rem;
		left: 50%;
		transform: translateX(-50%);
		z-index: 1000;
		margin: 0;
		padding: 0;
		background: transparent;
	}

	.pill-nav {
		display: flex;
		align-items: center;
		justify-content: center;
		gap: 0.5rem;
		background: rgba(255, 255, 255, 0.95);
		backdrop-filter: blur(10px);
		border: 1px solid rgba(var(--gray), 20%);
		border-radius: 50px;
		padding: 0.5rem 1.5rem;
		box-shadow: 
			0 4px 6px -1px rgba(0, 0, 0, 0.1),
			0 2px 4px -1px rgba(0, 0, 0, 0.06);
		transition: all 0.3s ease;
	}

	/* Estilos para modo oscuro */
	:global([data-theme="dark"]) .pill-nav {
		background: rgba(0, 55, 42, 0.95);
		border: 1px solid rgba(255, 255, 255, 0.1);
		box-shadow: 
			0 4px 6px -1px rgba(0, 0, 0, 0.3),
			0 2px 4px -1px rgba(0, 0, 0, 0.2);
	}

	.theme-toggle-wrapper {
		display: flex;
		align-items: center;
		margin-left: 0.5rem;
		padding-left: 0.5rem;
		border-left: 1px solid rgba(var(--gray), 20%);
	}

	:global([data-theme="dark"]) .theme-toggle-wrapper {
		border-left: 1px solid rgba(255, 255, 255, 0.2);
	}

	.pill-nav:hover {
		box-shadow: 
			0 10px 15px -3px rgba(0, 0, 0, 0.1),
			0 4px 6px -2px rgba(0, 0, 0, 0.05);
		transform: translateY(-1px);
	}

	/* Estilos globales para los enlaces dentro de la píldora */
	:global(.pill-nav a) {
		padding: 0.4rem 1rem !important;
		margin: 0 !important;
		border-radius: 25px !important;
		text-decoration: none !important;
		color: rgb(var(--gray-dark)) !important;
		font-family: 'Lora', serif !important;
		font-weight: 700 !important;
		font-size: 1rem !important;
		transition: all 0.2s ease !important;
		border: none !important;
		border-bottom: none !important;
		background: transparent !important;
	}

	:global(.pill-nav a:hover) {
		background: rgba(var(--accent), 10%) !important;
		color: var(--accent) !important;
		transform: translateY(-1px) !important;
	}

	:global(.pill-nav a.active) {
		background: white !important;
		color: #00372a !important;
		border-bottom: none !important;
		box-shadow: 0 2px 4px rgba(0, 55, 42, 0.3) !important;
	}

	/* Estilos de enlaces para modo oscuro */
	:global([data-theme="dark"]) :global(.pill-nav a) {
		color: white !important;
	}

	:global([data-theme="dark"]) :global(.pill-nav a:hover) {
		background: rgba(255, 255, 255, 0.1) !important;
		color: white !important;
	}

	/* Pestaña activa en modo oscuro */
	:global([data-theme="dark"]) :global(.pill-nav a.active) {
		background: white !important;
		color: #00372a !important;
		box-shadow: 0 2px 4px rgba(255, 255, 255, 0.3) !important;
	}

	/* Responsive */
	@media (max-width: 720px) {
		header {
			top: 1rem;
		}
		
		.pill-nav {
			padding: 0.4rem 1rem;
			gap: 0.25rem;
		}
		
		:global(.pill-nav a) {
			padding: 0.3rem 0.8rem !important;
			font-size: 0.9rem !important;
		}
	}
</style>
